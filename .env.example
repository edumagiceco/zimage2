# ============================================
# Z-Image Platform - Environment Variables
# ============================================
# Copy this file to .env and update the values

# ============================================
# Host Configuration (for external access)
# ============================================
# Set this to your server's IP address for external access
HOST_IP=192.168.1.81

# ============================================
# Database (PostgreSQL)
# ============================================
POSTGRES_USER=zimage
POSTGRES_PASSWORD=zimage_secure_password_change_me
POSTGRES_DB=zimage
DATABASE_URL=postgresql://zimage:zimage_secure_password_change_me@postgres:5432/zimage

# ============================================
# Redis
# ============================================
REDIS_URL=redis://redis:6379/0
CELERY_BROKER_URL=redis://redis:6379/1
CELERY_RESULT_BACKEND=redis://redis:6379/2

# ============================================
# MinIO (Object Storage)
# ============================================
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minio_secure_password_change_me
MINIO_ENDPOINT=minio:9000
MINIO_BUCKET=zimage-images
MINIO_USE_SSL=false

# ============================================
# JWT Authentication
# ============================================
JWT_SECRET=your-256-bit-secret-key-must-change-in-production
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# ============================================
# Application Settings
# ============================================
APP_ENV=development
APP_DEBUG=true
APP_NAME=Z-Image Platform
APP_VERSION=1.0.0

# Service URLs (internal)
AUTH_SERVICE_URL=http://auth-service:8001
IMAGE_SERVICE_URL=http://image-service:8002
GALLERY_SERVICE_URL=http://gallery-service:8003

# ============================================
# Frontend
# ============================================
# For external access, use: http://<HOST_IP>:8000
NEXT_PUBLIC_API_URL=http://192.168.1.81:8000
NEXT_PUBLIC_APP_NAME=Z-Image

# ============================================
# Monitoring
# ============================================
FLOWER_USER=admin
FLOWER_PASSWORD=flower_admin_change_me
GRAFANA_USER=admin
GRAFANA_PASSWORD=grafana_admin_change_me

# ============================================
# GPU Settings
# ============================================
CUDA_VISIBLE_DEVICES=0
PYTORCH_CUDA_ALLOC_CONF=max_split_size_mb:512

# ============================================
# Rate Limiting
# ============================================
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_BURST=10

# ============================================
# Image Generation Defaults
# ============================================
DEFAULT_IMAGE_WIDTH=1024
DEFAULT_IMAGE_HEIGHT=1024
DEFAULT_NUM_IMAGES=1
MAX_NUM_IMAGES=4
DEFAULT_INFERENCE_STEPS=8
DEFAULT_GUIDANCE_SCALE=3.5
